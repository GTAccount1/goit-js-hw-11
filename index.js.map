{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n        \nexport function getImagesByQuery(query) {\n    const server = axios.create({\n        baseURL: 'https://pixabay.com/api/',\n        params: {\n            key: '34647227-856c4916cf69f9df89be744ef',\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: \"true\",\n    },\n});\n    return server.get()\n        .then(response => response.data.hits)\n        .catch(error => {\n            console.log(\"API error\", error);\n            throw error;\n        });\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n \nexport function createGallery(value) {\n      const markup = value.map((v) => \n        `<li class=\"js-gallery-item\">\n    <a class=\"js-image-link\" href=\"${v.largeImageURL}\">\n    <img class=\"js-image\" src=\"${v.webformatURL}\" alt=\"${v.tags}\" loading=\"lazy\" />\n    </a>\n    <ul class=\"js-descr\">\n    <li class=\"js-info\">\n    <p class=\"js-title\" >Likes</p>\n    <p class=\"js-value\" >${v.likes}</p>\n    </li>\n    <li class=\"js-info\">\n    <p class=\"js-title\" >Views</p>\n    <p class=\"js-value\" >${v.views}</p>\n    </li>\n    <li class=\"js-info\">\n    <p class=\"js-title\" >Comments</p>\n    <p class=\"js-value\" >${v.comments}</p>\n    </li>\n    <li class=\"js-info\">\n    <p class=\"js-title\" >Downloads</p>\n    <p class=\"js-value\" >${v.downloads}</p>\n    </li>\n    </ul>\n    </li>`).join('');\n    const gallery = document.querySelector('.gallery');\n    gallery.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n    return;\n}\n\nexport function clearGallery() {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = \"\";\n};\n\nexport function showLoader() { \n    const loader = document.querySelector('.loader');\n    loader.classList.remove('hidden');\n};\n\nexport function hideLoader() {\nconst loader = document.querySelector('.loader');\n    loader.classList.add('hidden');\n};\n\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport { createGallery } from './js/render-functions.js';\nimport { clearGallery } from './js/render-functions.js';\nimport { showLoader } from './js/render-functions.js';\nimport { hideLoader } from './js/render-functions.js';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst refs = {\n    searchForm: document.querySelector('.form'),\n    searchInput: document.querySelector('.form input'),\n}\n\nrefs.searchForm.addEventListener(\"submit\", e => {\n    e.preventDefault();\n\n    const query = refs.searchInput.value;\n\n    if (query.trim() === \"\") {\n        iziToast.error({\n            title: 'Error',\n            message: \"Input field cann't be empty!\"\n        });\n        refs.searchInput.value = '';\n        hideLoader();\n        clearGallery();\n        return;\n    };\n\n    showLoader();\n    clearGallery();\n\n    getImagesByQuery(query)\n        .then(hits => {\n            if (hits.length === 0) {\n            iziToast.info({\n            title: 'Info',\n            message: \"Sorry, there are no images matching your search query. Please try again!\"\n            });\n            refs.searchInput.value = '';\n            hideLoader();\n            clearGallery();\n            return;\n            } \n            createGallery(hits);\n            refs.searchInput.value = '';\n            hideLoader();\n        })\n        .catch(error => {\n            iziToast.error({\n            title: 'Error',\n            message: `API error: ${error}`\n            });\n            clearGallery();\n            refs.searchInput.value = '';\n            hideLoader();\n        });\n});\n\n \n\n"],"names":["getImagesByQuery","query","axios","response","error","lightbox","SimpleLightbox","createGallery","value","markup","v","clearGallery","gallery","showLoader","hideLoader","refs","e","iziToast","hits"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CAWpC,OAVeC,EAAM,OAAO,CACxB,QAAS,2BACT,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACnB,CACL,CAAC,EACiB,IAAK,EACd,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,GAAS,CACZ,cAAQ,IAAI,YAAaA,CAAK,EACxBA,CAClB,CAAS,CACT,CChBA,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAO,CAC/B,MAAMC,EAASD,EAAM,IAAKE,GACxB;AAAA,qCAC6BA,EAAE,aAAa;AAAA,iCACnBA,EAAE,YAAY,UAAUA,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2BAKpCA,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA,2BAIPA,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA,2BAIPA,EAAE,QAAQ;AAAA;AAAA;AAAA;AAAA,2BAIVA,EAAE,SAAS;AAAA;AAAA;AAAA,UAG5B,EAAE,KAAK,EAAE,EACC,SAAS,cAAc,UAAU,EACzC,mBAAmB,YAAaD,CAAM,EAC9CJ,EAAS,QAAO,CAEpB,CAEO,SAASM,GAAe,CAC3B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,CAEO,SAASC,GAAa,CACV,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASC,GAAa,CACd,SAAS,cAAc,SAAS,EACpC,UAAU,IAAI,QAAQ,CACjC,CC5CA,MAAMC,EAAO,CACT,WAAY,SAAS,cAAc,OAAO,EAC1C,YAAa,SAAS,cAAc,aAAa,CACrD,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,GAAK,CAC5CA,EAAE,eAAc,EAEhB,MAAMf,EAAQc,EAAK,YAAY,MAE/B,GAAId,EAAM,KAAM,IAAK,GAAI,CACrBgB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACrB,CAAS,EACDF,EAAK,YAAY,MAAQ,GACzBD,IACAH,IACA,MAER,CACIE,IACAF,IAEAX,EAAiBC,CAAK,EACjB,KAAKiB,GAAQ,CACV,GAAIA,EAAK,SAAW,EAAG,CACvBD,EAAS,KAAK,CACd,MAAO,OACP,QAAS,0EACrB,CAAa,EACDF,EAAK,YAAY,MAAQ,GACzBD,IACAH,IACA,MACC,CACDJ,EAAcW,CAAI,EAClBH,EAAK,YAAY,MAAQ,GACzBD,GACZ,CAAS,EACA,MAAMV,GAAS,CACZa,EAAS,MAAM,CACf,MAAO,QACP,QAAS,cAAcb,CAAK,EACxC,CAAa,EACDO,IACAI,EAAK,YAAY,MAAQ,GACzBD,GACZ,CAAS,CACT,CAAC"}